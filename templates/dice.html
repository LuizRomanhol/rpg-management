<!-- dice.html -->
<fieldset>
  <legend>Lançar Dados</legend>
  <button onclick="lancarDado(20)">Lançar D20</button>
  <button onclick="lancarDado(12)">Lançar D12</button>
  <button onclick="lancarDado(10)">Lançar D10</button>
  <button onclick="lancarDado(8)">Lançar D8</button>
  <button onclick="lancarDado(6)">Lançar D6</button>
  <button onclick="lancarDado(4)">Lançar D4</button>
</fieldset>

<script>
  function lancarDado(dado) {
    let nomeJogador = "{{ jogador.nome if jogador is defined else 'O mestre da sessão' }}"; // Garante que o mestre tenha um nome fixo
    let jogadorId = "{{ jogador.id if jogador is defined else 'mestre' }}"; // Define um ID fixo para o mestre

    let resultado = Math.floor(Math.random() * dado) + 1;

    socket.emit('lançar_dado', {
      jogadorId: jogadorId,
      nome: nomeJogador,
      dado: dado,
      resultado: resultado,
      sessaoId: "{{ sessao_id }}"
    });
  }
</script>

