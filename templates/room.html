<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sessão de RPG - Jogador</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.0/socket.io.js"></script>
    <script>
        let sessaoId = "{{ sessao_id }}";
        let jogadorId = "{{ jogador_id }}";
        let socket = io();

        // Atualiza o nome do jogador se for alterado pelo mestre
        socket.on(`atualizar_nome_jogador_${sessaoId}`, (data) => {
            if (data.jogadorId === jogadorId) {
                document.getElementById("nome_jogador").innerText = data.novoNome;
            }
        });
    </script>
</head>
<body>
    <h1>Sessão de RPG - Jogador</h1>
    <h3>Bem-vindo, <span id="nome_jogador">{{ nome_jogador }}</span></h3>

    <h4>Informações da Sessão:</h4>
    <p><strong>ID da Sessão:</strong> {{ sessao_id }}</p>
    <p><strong>Link para entrar novamente:</strong> <a href="{{ url_for('room', sessao_id=sessao_id, jogador_id=jogador_id) }}" target="_blank">Clique aqui</a></p>
</body>
</html>

